#include <stdio.h>
#include <string.h>

#define ROWS 3
#define COLS 5

//The user chooses the first case that they think has a million dollars
//This stays with them through the whole game 
int personalCase()
{
    int chosenCase;
    printf("\n\nPlease first choose the case you think holds 1 MILLION dollars: ");
    scanf("%d",&chosenCase);
    while(chosenCase<1 || chosenCase>15)
    {
        printf("Sorry, this is not a valid case. Please pick another: ");
        scanf("%d",&chosenCase);
        printf("\n");
    }
    printf("\nThe case you have chosen is %d and this is YOUR case! This will stick with you through the game unless you take another offer.",chosenCase);
    printf("\n");
    return chosenCase;
}

//printing the arrays 
void print_array(int array[ROWS][COLS])
{
    int x,y;

    for(x=0; x<ROWS; x++){
        for(y=0; y<COLS; y++){
            printf("%9d", array[x][y]);
            }
        printf("\n");
    }   
}

//replaces number with 0 
int newArray(int array[16], int num)
{
    int newArray[16];
    int x;
    for(x=0; x<16; x++){
         if(x==num)
         {
            newArray[x] = 0;
         }
         else
         {
            newArray[x] = array[x];
         }
    }   
    return newArray[16];
}

//This asks the user to choose a case they want to eliminate.
int chooseCase()
{
    int casesmall=0;
    printf("\nChoose a case that you think has a small monetary value (1-15, not including the ones you have already chosen): ");
    scanf("%d",&casesmall);
    while(casesmall<1 || casesmall>15)
    {
        printf("Sorry, this is not a valid case. Please pick another: ");
        scanf("%d",&casesmall);
        printf("\n");
    }
    return casesmall;
}

int main()
{
    int startingMoney;
    
    int cases[ROWS][COLS] = {{1,2,3,4,5},{6,7,8,9,10},{11,12,13,14,15}};
    int money[ROWS][COLS] = {{1,100,500,1000,5000},{7500,10000,25000,50000,75000},{100000,250000,500000,750000,1000000}};
    int moneyInside[16] = {0,100,25000,1000,750000,1,50000,250000,1000000,500,5000,7500,75000,500000,100000,10000};
    
    //File *f1 = fopen("welcome.txt","r");
    //fscanf(f1, "%d", &x);
    
    printf("\n*************************** DEAL OR NO DEAL **************************************\n\n");
    printf("In this game, you will be given 15 cases full of different monetary values.\n");
    printf("They will range from as little as one dollar all the way up to one million dollars.\n");
    printf("The goal of this game is to eliminate the smaller value cases, so that you have a bigger monetary average!\n\n");
    
    printf("\nHERE ARE YOUR CASES\n");
    print_array(cases);
    printf("\nHERE IS YOUR MONEY BOARD\n");
    print_array(money);
    printf("\n");

    //The user first chooses a case that will be "their case". They try to choose the one with a million dollars.
    int personalCaseNum = personalCase();
    startingMoney = moneyInside[personalCaseNum];
    moneyInside[16] = newArray(moneyInside,personalCaseNum);
    
    printf("\nNOW IT'S TIME TO START PLAYING THE GAME.\n\n");
   
    moneyInside[personalCaseNum] = 0;

    //They start out by choosing 5 cases.
    printf("You are going to choose 5 cases. The goal is to choose cases with small monetary values.\n");
    
    int z,n, firstCase=0, firstCaseMoney=0, casesChosenAlready[16];
    casesChosenAlready[0]=personalCaseNum;
    for(z=0;z<5;z++){
        printf("\nHere are the cases that you have chosen already: \n");
        printf("%d",casesChosenAlready[0]);
        for(n=1;n<z+1;n++){
            printf("%3d",casesChosenAlready[n]);
        }
        int firstCase= chooseCase();
        int firstCaseMoney= moneyInside[firstCase];
        casesChosenAlready[z+1]=firstCase;
        printf("THE MONEY INSIDE IS.........: %d\n", moneyInside[firstCase]);
        moneyInside[firstCase]= 0; 
    }

    //This is where the banker computes the offer he is going to make.
    int r,offer=0;
    for(r=0;r<16;r++)
    {
        offer = offer + moneyInside[r];   
    }
    offer/=100;

    // After the contestant chooses their first five cases, the banker is called for an offer.
    
    printf("\nTIME TO CALL THE BANKER. HE WILL MAKE YOU AN OFFER BASED ON THE MONEY STILL LEFT ON YOUR BOARD.\n");
    printf("RIIIIIING RIIIIIING... Hello? Okay. Okay.\n\n");

    printf("The offer the banker is going to make to you is.............. %d\n", offer);
    
    //Asks the user if he/she wants to take the offer
    char *pointers,answer[5],response;
    pointers=answer;
    printf("Do you want to take the offer? (take / deny): ");
    scanf("%s", pointers);

    if(strcmp(pointers,"take")==0)
    {
        printf("\n\nCONGRATULATIONS!! YOU JUST WALKED AWAY WITH %d DOLLARS!!!\n",offer);
        printf("Continue the game to see how much you could have won, or Quit to leave the game (control Z)\n\n");
    }
    
    //On to the next set of 4 cases

    printf("\nNow, you are going to choose four more cases that you think hold small monetary values.\n");

    int y,h;
    for(y=0;y<4;y++)
    {
        printf("\nHere are the cases that you have chosen already: \n");
        printf("%3d%3d%3d%3d%3d%3d",casesChosenAlready[0],casesChosenAlready[1],casesChosenAlready[2],casesChosenAlready[3],casesChosenAlready[4],casesChosenAlready[5]);
        for(h=6;h<y+6;h++)
        {
            printf("%3d",casesChosenAlready[h]);
        }
        firstCase = chooseCase();
        firstCaseMoney= moneyInside[firstCase];
        casesChosenAlready[y+6]=firstCase;
        printf("THE MONEY INSIDE IS..........: %d\n",moneyInside[firstCase]);
        moneyInside[firstCase]=0;
    }

    //The banker computes the offer to be made
    offer = 0;
    for(r=0;r<16;r++)
    {
        offer = offer + moneyInside[r];
    }
    offer/=10;
    
    printf("\nTIME TO CALL THE BANKER. HE WILL MAKE YOU AN OFFER BASED ON THE MONEY LEFT IN YOUR CASES\n");
    printf("RIIIIIIIIIING RIIIIIIIIING.... Hello? Yup. Okay. I get you. \n\n");

    printf("The offer the banker is going to make you is........................ %d\n",offer);

    //The user is asked if he/she would like to take the offer
    printf("Do you want to take the offer? (take/deny): ");
    scanf("%s", pointers);

    if(strcmp(pointers,"take")==0)
    {
        printf("\n\nCONGRATULATIONS!!! YOU JUST WALKED AWAY WITH %d DOLLARS !!!!!!!!!!!!\n\n", offer);
        printf("Continue the game to see how much money you could have won, or quit by pressing control Z\n");
    }
    
    return 0;
}
